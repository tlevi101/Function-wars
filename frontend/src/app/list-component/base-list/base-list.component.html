<app-confirm-with-input #confirmWithInput (confirmEvent)="handleConfirmEvent($event)"></app-confirm-with-input>
<app-confirm #confirm (confirmEvent)="handleConfirmEvent($event)"></app-confirm>

<div class="container p-4">
	<table>
		<thead>
			<tr>
				<th>
					<div class="form-check">
						<input class="form-check-input" type="checkbox" value="" id="flexCheckDefault"
							(click)="selectAll($event)">
						<label class="form-check-label" for="flexCheckDefault">
							All
						</label>
					</div>
				</th>
				<th *ngFor="let header of headers">{{header.label}}</th>
				<th>
					Actions
					<div class="d-flex justify-content-center">
						<div *ngFor="let action of  pluralActions" [innerHtml]="action.HTML" placement="top" ngbTooltip="{{action.tooltip}}"
							(click)="actionClicked(action)">
						</div>
					</div>
				</th>
			</tr>
		</thead>
		<tbody>
			<tr
				*ngFor="let singularData of data  | slice: (pagination.page-1) * pagination.pageSize : pagination.page * pagination.pageSize; let i=index">
				<td class="selects">
					<div class="form-check">
						<input #dataCheckBox class="form-check-input" type="checkbox" id="dataId_{{singularData.id}}">
					</div>
				</td>
				<td *ngFor="let header of headers" [innerHTML]="getDataField(singularData, header)"></td>
				<td>
					<div class="d-flex gap-1 justify-content-center">
						<div class="mt-2" *ngFor="let action of  singularActions" [innerHtml]="action.HTML" placement="top" ngbTooltip="{{action.tooltip}}"
							(click)="actionClicked(action, singularData.id)"></div>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
	<div *ngIf="pagination.collectionSize==0" class="alert alert-info text-center" role="alert">
		No data found
	</div>
	<nav *ngIf="pagination.collectionSize>0" aria-label="Page navigation example">
		<ul class="pagination justify-content-center">
			<li class="page-item {{pagination.page!== 1 ? '' : 'disabled'}}">
				<a class="page-link" (click)="pagination.incrementCurrentPageBy(-1)">Previous</a>
			</li>
			<li class="page-item {{1===pagination.page? 'active':''}}"><a class="page-link"
					(click)="pagination.turnPageTo(1)">{{1}}</a></li>
			<li *ngIf="1!==pagination.first-1" class="page-item disabled"><a class="page-link">...</a></li>
			<li *ngFor="let j of [].constructor(pagination.SliderSize); let i =index"
				class="page-item {{pagination.first+i === pagination.page? 'active':''}}">
				<a class="page-link" (click)="pagination.turnPageTo(pagination.first+i)">{{pagination.first+i}}</a>
			</li>
			<li *ngIf="pagination.pageCount>pagination.first+pagination.SliderSize" class="page-item disabled"><a
					class="page-link">...</a></li>
			<li *ngIf="pagination.pageCount!==1"
				class="page-item {{pagination.pageCount===pagination.page? 'active':''}}"><a class="page-link"
					(click)="pagination.turnPageTo(pagination.pageCount)">{{pagination.pageCount}}</a></li>

			<li class="page-item">
				<a class="page-link {{pagination.page!==pagination.pageCount? '' : 'disabled'}}"
					(click)="pagination.incrementCurrentPageBy(1)">Next</a>
			</li>
		</ul>
	</nav>
</div>